---
layout: example
title: turf-midpoint
description: Takes two point features and returns the mid point.
tags:
    - measurement
---
<div id='map'></div>

<script>
L.mapbox.accessToken = 'pk.eyJ1IjoibW9yZ2FuaGVybG9ja2VyIiwiYSI6Ii1zLU4xOWMifQ.FubD68OEerk74AYCLduMZQ';
var map = L.mapbox.map('map', 'morganherlocker.kgidd73k')
    .setView([35.465453, -97.513914], 15);

var point1 = turf.point(-97.514914, 35.463453, {
    "marker-color": "#6BC65F",
    "marker-size": "small"
});

var point2 = turf.point(-97.517839, 35.466998, {
    "marker-color": "#6BC65F",
    "marker-size": "small"
});

var midpoint = turf.midpoint(point1, point2);
midpoint.properties = {
    "marker-color": "#25561F",
    "marker-size": "large",
    "marker-symbol": "star-stroked"
}

var linestring = turf.linestring([point1.geometry.coordinates,
        point2.geometry.coordinates,
        midpoint.geometry.coordinates], {
    "stroke": "#6BC65F",
    "stroke-width": 5
});
var pts = turf.featurecollection([point1, point2]);

var ptsLayer = L.mapbox.featureLayer().setGeoJSON(pts).addTo(map);
var midPointLayer = L.mapbox.featureLayer().addTo(map);
var lineLayer = L.mapbox.featureLayer().addTo(map);

ptsLayer.eachLayer(function(layer) {
    layer.options.draggable = true;
    layer.on('drag', function(e) {
        calculateMidpoint();
    });
});

function calculateMidpoint() {
    var pts = ptsLayer.getLayers();
    var linestring = turf.linestring([pts[0].toGeoJSON().geometry.coordinates, pts[1].toGeoJSON().geometry.coordinates], 
        {
            "stroke": "#6BC65F",
            "stroke-width": 5
        });
    lineLayer.featureLayer().setGeoJSON(linestring);

}
</script>
